(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{15:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(10),s=c.n(n),r=c(4),o=c(2),a=c(1),i=(c(15),c(16),c(17),c(8)),u=c.n(i),l=c(0),d=function(e){var t=e.todo,c=e.selectId,n=e.activeUser,s=e.changeCompleted;return Object(l.jsxs)("li",{className:u()("TodoList__item",{"TodoList__item--unchecked":!t.completed},{"TodoList__item--checked":t.completed}),children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(){return s(t.id)}}),Object(l.jsx)("p",{children:"delectus aut autem"})]}),Object(l.jsx)("button",{className:u()("button","TodoList__user-button",{"TodoList__user-button--selected":n===t.userId}),type:"button",onClick:function(){return c(t.userId)},children:"User#".concat(t.userId)})]})},j=function(e){var t=e.todos,c=e.selectId,n=e.activeUser,s=e.changeCompleted,o=e.filtered,a=e.selectFilter;return Object(l.jsx)("div",{className:"TodoList",children:Object(l.jsx)("div",{className:"TodoList__list-container",children:Object(l.jsx)("ul",{className:"TodoList__list",children:Object(r.a)(t).filter((function(e){switch(a){case"completedTodos":return e.completed;case"notCompletedTodos":return!e.completed;default:return e}})).filter((function(e){return e.title.includes(o)})).map((function(e){return Object(l.jsx)(d,{todo:e,selectId:c,activeUser:n,changeCompleted:s},e.id)}))})})})},b=(c(19),c(9)),p=c(5),h=c.n(p),f="https://mate.academy/students-api",m=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/todos"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Error: ".concat(t.status));case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/users/").concat(t));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Error: ".concat(c.status));case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=e.userId,c=Object(a.useState)(null),n=Object(o.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){O(t).then((function(e){return r(e)}))}),[t]),Object(l.jsx)("div",{className:"CurrentUser",children:(null===s||void 0===s?void 0:s.id)!==t?Object(l.jsx)("h2",{children:"Loading..."}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{className:"CurrentUser__title",children:Object(l.jsx)("span",{children:"Selected user: ".concat(t)})}),Object(l.jsx)("h3",{className:"CurrentUser__name",children:null===s||void 0===s?void 0:s.name}),Object(l.jsx)("p",{className:"CurrentUser__email",children:null===s||void 0===s?void 0:s.email}),Object(l.jsx)("p",{className:"CurrentUser__phone",children:null===s||void 0===s?void 0:s.phone})]})})},v=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)("allTodos"),i=Object(o.a)(s,2),u=i[0],d=i[1],b=Object(a.useState)(0),p=Object(o.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(!1),v=Object(o.a)(O,2),_=v[0],N=v[1],C=Object(a.useState)([]),T=Object(o.a)(C,2),k=T[0],g=T[1];Object(a.useEffect)((function(){m().then((function(e){return g(e)})).catch((function(){return N(!0)}))}),[]);var w=function(e){n(e)};return Object(a.useEffect)((function(){g(Object(r.a)(k))}),[c,u,h]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"App__sidebar",children:[Object(l.jsx)("button",{type:"button",className:"button",onClick:function(){return f(0)},children:"Clear"}),Object(l.jsx)("h2",{children:"Todos:"}),Object(l.jsxs)("div",{className:"TodoList__nav",children:[Object(l.jsx)("input",{type:"text",className:"TodoList__input",placeholder:"search",value:c,onChange:function(e){return w(e.target.value)}}),Object(l.jsxs)("select",{name:"select",value:u,onChange:function(e){d(e.target.value)},children:[Object(l.jsx)("option",{defaultValue:"allTodos",children:"all"}),Object(l.jsx)("option",{value:"completedTodos",children:"completed"}),Object(l.jsx)("option",{value:"notCompletedTodos",children:"need to complete"})]})]}),_?Object(l.jsx)("p",{className:"App__error",children:"Oops... Can`t read data from server"}):Object(l.jsx)(j,{todos:k,selectId:function(e){f(e)},activeUser:h,changeCompleted:function(e){g(Object(r.a)(k).map((function(t){return t.id===e&&(t.completed=!t.completed),t})))},setNewFilter:w,filtered:c,selectFilter:u})]}),Object(l.jsx)("div",{className:"App__content",children:Object(l.jsx)("div",{className:"App__content-container",children:h?Object(l.jsx)(x,{userId:h}):"No user selected"})})]})};s.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8fe06aaf.chunk.js.map